# =============================================================================
# NexMDM Environment Configuration
# =============================================================================
# This file shows all environment variables needed to deploy NexMDM.
# Copy this to your Replit Secrets or create a .env file for local development.
#
# QUICK START FOR REPLIT USERS:
# 1. Fork/Remix this Repl
# 2. Go to Secrets (ðŸ”’ icon in left sidebar)
# 3. Add each secret below with your own values
# 4. Click "Run" - that's it!
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED SECRETS
# -----------------------------------------------------------------------------

# Admin Key - Used for administrative operations (device deletion, ADB scripts, etc.)
# Generate a random string (at least 32 characters recommended)
# Example: openssl rand -base64 32
ADMIN_KEY=your-random-admin-key-here-minimum-32-characters

# Firebase Service Account - JSON content (RECOMMENDED for security)
# This is the PREFERRED method for Replit - keeps credentials safe on public forks!
# 1. Go to Firebase Console: https://console.firebase.google.com
# 2. Select your project (or create a new one)
# 3. Click the gear icon â†’ Project Settings â†’ Service Accounts
# 4. Click "Generate New Private Key" - a JSON file will download
# 5. Open the JSON file and COPY ALL CONTENTS (the entire {...} block)
# 6. Paste it here as the value (keep it as a single line or properly escaped)
# Example: FIREBASE_SERVICE_ACCOUNT_JSON={"type":"service_account","project_id":"your-project",...}
FIREBASE_SERVICE_ACCOUNT_JSON={"type":"service_account","project_id":"...paste entire JSON here..."}

# ALTERNATIVE: Firebase Service Account - File Path (LESS SECURE)
# Only use this if you cannot use FIREBASE_SERVICE_ACCOUNT_JSON
# WARNING: Uploading the JSON file to your workspace exposes it on public forks!
# If you must use this method:
# 1. Upload the downloaded JSON file to your Repl root directory
# 2. Set this to the filename (e.g., "firebase-service-account.json")
# FIREBASE_SERVICE_ACCOUNT_PATH=firebase-service-account.json

# Database URL - PostgreSQL connection string
# For Replit: This is automatically provided when you enable PostgreSQL database
# For local: Use SQLite with: sqlite:///./data.db
# The DATABASE_URL secret should already exist in your Replit Secrets if you enabled the database
DATABASE_URL=postgresql://user:password@host:port/database

# Server URL - Your Replit deployment URL (used for device enrollment)
# This should be your public Replit app URL, e.g., https://your-app-name.repl.dev
# For Replit: You can use the REPLIT_DEV_DOMAIN environment variable
# Example: https://nexmdm-yourname.repl.dev
SERVER_URL=https://your-replit-app.repl.dev

# -----------------------------------------------------------------------------
# OPTIONAL SECRETS
# -----------------------------------------------------------------------------

# Discord Webhook URL - For sending alerts (offline devices, low battery, etc.)
# 1. Go to your Discord server
# 2. Edit a channel â†’ Integrations â†’ Webhooks â†’ New Webhook
# 3. Copy the webhook URL and paste it here
# If not set, alerts will be printed to console only (no Discord notifications)
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN

# -----------------------------------------------------------------------------
# NEXT.JS FRONTEND CONFIGURATION (Auto-configured on Replit)
# -----------------------------------------------------------------------------

# Backend URL - URL of the FastAPI backend (used by Next.js API routes)
# For Replit: Defaults to http://localhost:8000 (auto-configured)
# Only set this if you're running backend on a different port/server
# BACKEND_URL=http://localhost:8000

# Public Server URL - Client-side accessible server URL
# For Replit: Uses SERVER_URL by default
# Only set this if your public URL differs from SERVER_URL
# NEXT_PUBLIC_SERVER_URL=https://your-replit-app.repl.dev

# -----------------------------------------------------------------------------
# OPTIONAL TUNING PARAMETERS
# -----------------------------------------------------------------------------

# Offline Threshold - Seconds of inactivity before device is marked offline
# Default: 900 (15 minutes)
# OFFLINE_THRESHOLD_SECONDS=900

# Heartbeat Interval - Expected interval between device heartbeats
# Default: 300 (5 minutes)
# Note: Android app must be configured with matching interval
# HEARTBEAT_INTERVAL_SECONDS=300

# Event Retention - Days to keep device event history
# Default: 30 days
# Older events are automatically cleaned up
# EVENT_RETENTION_DAYS=30

# -----------------------------------------------------------------------------
# REPLIT-PROVIDED ENVIRONMENT VARIABLES (DO NOT SET MANUALLY)
# -----------------------------------------------------------------------------
# These are automatically set by Replit when you enable features:
# - DATABASE_URL (when PostgreSQL database is enabled)
# - REPLIT_DEV_DOMAIN (your app's development domain)
# - REPLIT_DEPLOYMENT_DOMAIN (your published app's domain)
# -----------------------------------------------------------------------------
